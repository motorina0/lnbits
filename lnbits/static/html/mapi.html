<!DOCTYPE html>
<html>

<head>
  <script src="https://mempool.space/mempool.js"></script>
  <script src="http://localhost:8000/static/vendor/axios@0.20.0/axios.min.js"></script>
  <script src="http://localhost:8000/static/js/api.js"></script>
  <script src="http://localhost:8000/watchonly/static/js/api.js"></script>

  <!-- <script src="https://lnbits.link/static/js/base.js"></script> -->


  <script>
    async function test() {
      console.log('### window.LNbits', window.LNbits)
      const wallet = { inkey: 'ae767cde5cb147d0bc42d4bc5c326e1a' }
      
      const { LNbits: {api}} = window
      const invoice = await api.createInvoice(wallet, 125, 'money api')
      console.log('### invoice', invoice)
      const { LNbits: {watchonly: {api: watchonlyApi}}} = window
      const accounts = await watchonlyApi.getAccounts(wallet)
      console.log('### accounts', accounts)
    }
    test()
  </script>

  <script>
    const init = async () => {

      const { bitcoin: { difficulty } } = mempoolJS({
        hostname: 'mempool.space'
      });

      const difficultyAdjustment = await difficulty.getDifficultyAdjustment();

      document.getElementById("result").textContent = JSON.stringify(difficultyAdjustment, undefined, 2);

    };
    init();
  </script>
</head>

<body>
  <pre id="result"></pre>
</body>

</html>