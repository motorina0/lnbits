<!DOCTYPE html>
<html>

<head>
  <script src="https://mempool.space/mempool.js"></script>
  <script src="http://localhost:8000/static/vendor/axios@0.20.0/axios.min.js"></script>
  <script src="http://localhost:8000/static/js/api.js"></script>
  <script src="http://localhost:8000/watchonly/static/js/api.js"></script>



  <script>
    async function test() {
      const wallet = { inkey: 'ae767cde5cb147d0bc42d4bc5c326e1a' }
      // const wallet = { inkey: '56f0cadae94541c893aee82f7506da02' }
      
      const  {api}  = lnbitsJS({})
      const resp = await api.createInvoice(wallet, 125, 'money api')
      console.log('### invoice', resp.data)

      const {api: watchonlyApi} = lnbitsWatchonlyJS({})
      const resp2 = await watchonlyApi.getAccounts(wallet)
      console.log('### accounts', resp2.data)
    }
    test()
  </script>

  <script>
    const init = async () => {

      const { bitcoin: { difficulty } } = mempoolJS({
        hostname: 'mempool.space'
      });

      const difficultyAdjustment = await difficulty.getDifficultyAdjustment();

      document.getElementById("result").textContent = JSON.stringify(difficultyAdjustment, undefined, 2);

    };
    init();
  </script>
</head>

<body>
  <pre id="result"></pre>
</body>

</html>